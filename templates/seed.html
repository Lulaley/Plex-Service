<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#313B45">
    <title>Gestion des Seeds - Plex Service</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/plex-icon.png') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/seed.css') }}">
</head>

<body>
    {% include 'navbar.html' %}

    <div class="seed-wrapper">
        <div class="seed-header">
            <h1>Gestion des Seeds</h1>
            <p class="subtitle">GÃ©rez vos torrents en seed</p>
        </div>

        <!-- Formulaire pour ajouter un nouveau seed -->
        <div class="add-seed-card">
            <h2>ðŸ“¤ Ajouter un nouveau seed</h2>
            
            <!-- Option 1: SÃ©lectionner depuis les mÃ©dias disponibles -->
            <div class="seed-option">
                <h3>Option 1: SÃ©lectionner depuis les mÃ©dias</h3>
                <div class="input-group">
                    <select id="media-select" class="media-select">
                        <option value="">-- SÃ©lectionner un mÃ©dia --</option>
                    </select>
                    <button id="start-seed-from-media" class="btn-primary">DÃ©marrer le seed</button>
                </div>
            </div>

            <!-- Option 2: Upload d'un fichier .torrent -->
            <div class="seed-option">
                <h3>Option 2: Upload d'un fichier .torrent</h3>
                <form id="torrent-upload-form">
                    <div class="input-group">
                        <input type="text" id="data-path-input" placeholder="Chemin des donnÃ©es (/path/to/data)" required>
                        <input type="file" id="torrent-file-input" accept=".torrent" required>
                        <button type="submit" class="btn-primary">Upload et dÃ©marrer</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Liste des seeds actifs -->
        <div class="seeds-list-section">
            <h2>ðŸŒ± Seeds actifs (<span id="seeds-count">0</span>)</h2>
            <div id="seeds-container">
                <!-- Les seeds seront ajoutÃ©s dynamiquement ici -->
            </div>
        </div>

        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="flash-messages">
            {% for message in messages %}
            <div class="flash-message">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
    </div>
    <script src="{{ url_for('static', filename='js/seed.js') }}"></script>
</body>

</html>
